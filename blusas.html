<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <title>Afrodite</title>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
    integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
    crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="http://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="http://code.jquery.com/jquery-1.11.1.js"></script>

  <link rel="icon" href="imgs/cabide1.png">

  <link href="css/categorias.css" rel="stylesheet">

</head>

<body>
  <div vw class="enabled">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
    <div class="vw-plugin-top-wrapper"></div>
    </div>
    </div>
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script>
    new window.VLibras.Widget('https://vlibras.gov.br/app');
    </script>
  <header>
    <nav class="navbar navbar-expand-lg bg-light">

      <div class="container-fluid">

        <div class="oval"><a class="navbar-brand" href="index.html">
            <h1>AFRODITE</h1>
          </a></div>

          <div>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
            <span id="vestido" class="atualizar_listagem meu_link_hover"><b>Vestidos</b></span> |
            <span id="blusa" class="atualizar_listagem meu_link_hover"><b>Blusas</b></span> |
            <span id="short" class="atualizar_listagem meu_link_hover"><b>Shorts</b></span> |
            <span id="calça" class="atualizar_listagem meu_link_hover"><b>Calças</b></span> |
            <span id="moletom" class="atualizar_listagem meu_link_hover"><b>Moletons</b></span> |
            <span id="saia" class="atualizar_listagem meu_link_hover"><b>Saias</b></span>
            
          </div>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="navbar-collapse justify-content-sm-end dois" id="navbarNav">
          <ul class="navbar-nav">

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-expanded="false"
                style="color: #fff;">Categorias</a>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="feminino.html">Moda Feminina</a>
                <a class="dropdown-item" href="masculino.html">Moda Masculina</a>
              </div>
            </li>

            <li class="nav-item">
              <a class="nav-link active" aria-current="page" style="color: #fff;" href="sobrenos.html">Sobre Nós</a>
            </li>
          </ul>
        </div>
      </div>

      <form class="d-flex" role="search">
        <a href="login.html"><img src="imgs/pessoa.png" height=40 class="nav-link active um" aria-current="page"></a>
      </form>

      <form class="d-flex" role="search">
        <a href="carrinho.html"><img src="imgs/carrinho.png" height=40 class="nav-link active dois" id="img_carrinho"
            aria-current="page"></a>
        <span class="badge text-bg-secondary" id="numero_carrinho"></span>
      </form>

    </nav>

  </header>

  <section class="product">

    <button class="pre-btn"><img src="imgs/arrow.png" alt=""></button>
    <button class="nxt-btn"><img src="imgs/arrow.png" alt=""></button>

    <h3 id="filtro"></h3>

    <div class="product-container" id="listagem">

      <!-- CONTEUDO ESTÁTICO
      
        <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa1.jpg" class="product-thumb" alt="">
        </div>
        <div class="product-info">
          <h2 class="product-brand">Top</h2>
          <p class="product-short-description">Situação: Seminovo</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa2.jpg" class="product-thumb" alt="">
        </div>
        <div class="product-info">
          <h2 class="product-brand">Regata Esportiva</h2>
          <p class="product-short-description">Situação: Seminovo</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa3.jpg" class="product-thumb" alt="">
          <button class="card-btn btn_adicionar" id="btn_3">Adicionar ao carrinho</button>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Beagle</h2>
          <p class="product-short-description">Situação: Seminovo</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa4.jpg" class="product-thumb" alt="">
          <button class="card-btn btn_adicionar" id="btn_4">Adicionar ao carrinho</button>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Pijama</h2>
          <p class="product-short-description">Situação: Seminovo</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa5.jpg" class="product-thumb" alt="">
          <button class="card-btn btn_adicionar" id="btn_5">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Queen</h2>
          <p class="product-short-description">Situação: Pouco degastada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa6.jpg" class="product-thumb" alt="">
          <button class="card-btn btn_adicionar" id="btn_6">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Girassol</h2>
          <p class="product-short-description">Situação: Seminovo</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa7.jpg" class="product-thumb" alt="">
          <button class="card-btn btn_adicionar" id="btn_7">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Harry Potter</h2>
          <p class="product-short-description">Situação: Pouco degastada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa8.jpg" class="product-thumb" alt="">
          <button class="card-btn btn_adicionar" id="btn_8">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Preta</h2>
          <p class="product-short-description">Situação: Pouco Degastada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa9.jpg" class="product-thumb" alt="">
          <button class="card-btn btn_adicionar" id="btn_9">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Regata Preta</h2>
          <p class="product-short-description">Pouco degastada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa10.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_10">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Florida</h2>
          <p class="product-short-description">Tamanho: P, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa11.png" class="product-thumb" alt="">
        </div>
        <div class="product-info">
          <h2 class="product-brand">Cropped Love</h2>
          <p class="product-short-description">Tamanho: P, Seminovo</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa12.png" class="product-thumb" alt="">
        </div>
        <div class="product-info">
          <h2 class="product-brand">Cropped Preto</h2>
          <p class="product-short-description">Tamanho: PP, Seminovo</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa13.png" class="product-thumb" alt="">
        </div>
        <div class="product-info">
          <h2 class="product-brand">Cropped Preto</h2>
          <p class="product-short-description">Tamanho: PP, Seminovo</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa14.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_14">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Branca</h2>
          <p class="product-short-description">Tamanho: M, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa15.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_15">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Estampada</h2>
          <p class="product-short-description">Tamanho: M, Seminovo</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa16.png" class="product-thumb" alt="">
          <a ><button class="card-btn btn_adicionar" id="btn_16">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Cropped Nude</h2>
          <p class="product-short-description">Tamanho: P, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa17.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_17">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa DC</h2>
          <p class="product-short-description">Tamanho: P, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa18.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_18">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Cinza</h2>
          <p class="product-short-description">Tamanho: P, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa19.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_19">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Cinza</h2>
          <p class="product-short-description">Tamanho: P, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa20.png" class="product-thumb" alt="">
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Inverno</h2>
          <p class="product-short-description">Tamanho: G, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa21.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_21">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Esportivo</h2>
          <p class="product-short-description">Tamanho: P, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa22.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_22">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Florida</h2>
          <p class="product-short-description">Tamanho: M, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa23.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_23">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Cinza</h2>
          <p class="product-short-description">Tamanho: M, Seminova</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa24.png" class="product-thumb" alt="">
          <a ><button class="card-btn btn_adicionar" id="btn_24">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Rock</h2>
          <p class="product-short-description">Tamanho: P, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa25.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_25">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Preta de Renda</h2>
          <p class="product-short-description">Tamanho: P, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa26.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_26">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Listrada</h2>
          <p class="product-short-description">Tamanho: M, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa27.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_27">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Love</h2>
          <p class="product-short-description">Tamanho: G, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa28.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_28">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Estampada</h2>
          <p class="product-short-description">Tamanho: M, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa29.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_29">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Florida</h2>
          <p class="product-short-description">Tamanho: G, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa30.png" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_30">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Básica</h2>
          <p class="product-short-description">Tamanho: M, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa31.png" class="product-thumb" alt="">
        </div>
        <div class="product-info">
          <h2 class="product-brand">Cropped Branco</h2>
          <p class="product-short-description">Tamanho: P, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa32.png" class="product-thumb" alt="">
        </div>
        <div class="product-info">
          <h2 class="product-brand">Blusa Preta</h2>
          <p class="product-short-description">Tamanho: P, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa33.jpeg" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_68">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Básica</h2>
          <p class="product-short-description">Tamanho: M, Usada</p>
        </div>
      </div>

      <div class="product-card">
        <div class="product-image">
          <img src="imgs/blusa34.jpeg" class="product-thumb" alt="">
          <a><button class="card-btn btn_adicionar" id="btn_69">Adicionar ao carrinho</button></a>
        </div>
        <div class="product-info">
          <h2 class="product-brand">Básica</h2>
          <p class="product-short-description">Tamanho: M, Usada</p>
        </div>
      </div>

      ***

    -->

    </div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

    <script src="js/jquery-3.7.1.min.js"></script>

    <script src="js/meuscript.js"></script>
    <script src="js/script.js"></script>

    <script>
      $(function () {
  
  
        // código genérico para listagem de produtos
        function listar_generico_por_categoria(categ) {
  
          // 1) Pedir ao backend os produtos daquela categoria
  
          var rota = 'http://localhost:5000/listar_produtos_categoria/' + categ;
          var acao = $.ajax({
            url: rota,
            dataType: 'json', // Os dados são recebidos no formato JSON
          });
  
          // Se a chamada der certo
          acao.done(function (dados) {
            if (dados.resultado == 'ok') {
  
              // percorrer os resultados
              for (var p of dados.detalhes) {
  
                //console.log(p.saida);
                if (p.saida == false){
  
                // Monta o esquema de um produto
                var template = `
                  <div class="product-card">
                  <div class="product-image">
                      <img src="${p.nome_imagem}" class="product-thumb" alt="">
                      <button class="card-btn btn_adicionar" id="btn_${p.id}">Adicionar ao carrinho</button>
                  </div>
                  <div class="product-info">
                      <h2 class="product-brand">${p.descricao}</h2>
                      <p class="product-short-description">Situação: ${p.situacao} (cor: ${p.cor})</p>
                  </div>
                  </div>`;
  
                // Adiciona o template preenchido na div
                $('#listagem').append(template);}
              }
            } else {
              alert("ERRO na busca pelos dados :-/");
            }
          });
  
          // Se a chamada der erro
          acao.fail(function () {
            alert("Ocorreu algum erro na chamada ajax");
          });
        }
  
        $(document).on("click", ".atualizar_listagem", function () {
          // obtém os dados
          var este = $(this);
          var id = este.attr("id");
          var descricao = este.text();
  
          $("#listagem").empty(); // limpa a listagem
          listar_generico_por_categoria(id); // mostra os itens
          //$("#filtro").text(descricao);  // mostra a descrição
        });

        $("#listagem").empty(); // limpa a listagem
        listar_generico_por_categoria("blusa"); // mostra os itens
        

  
      });
    </script>

</body>

</html>
